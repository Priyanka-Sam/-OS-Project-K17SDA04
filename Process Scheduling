#include<iostream>
#include<stdlib.h>
using namespace std;

int main()
{
	int at[5],bt[5],pr[5],ct[5],tat[5],wt[5],proc[5];
	float total_wt,total_tat;
	int n;
	
	cout<<"--------------------------------------------------"<<endl;
	//get the number of processes	
	cout<<"Enter the number of Processes -> "<<endl;
	cin>>n;
	//giving process IDs to Processes
	for(i=0;i<n;i++)
	{
		proc[i]=i+1;
	}
	
	
	cout<<"--------------------------------------------------"<<endl;
	//Get the Arrival Time and Burst Time 
	cout<<"Enter the Arrival Time for Processes -> "<<endl;
	
	for(i=0;i<n;i++)
	{
		if(at[i]>=0)
		cin>>at[i];
		else
		cout<<"Wrong Arrival Time!"<<endl<<"Please enter Correct Arrival Time."<<endl;
	}

	//Burst Time
	cout<<"--------------------------------------------------"<<endl;
	cout<<"Enter the Burst Time for Processes -> "<<endl;
	for(i=0;i<n;i++)
	{
		if(at[i]>=0)
		cin>>at[i];
		else
		cout<<"Wrong Burst Time!"<<endl<<"Please enter Correct Burst Time."<<endl;
	}
	cout<<"--------------------------------------------------"<<endl;

    //calculating Total Burst Time
    
    for(i=0;i<n;i++)
    {
    	total_bt += bt[i];
	}
    cout<<"Total Burst Time -> "<<total_bt;
    
    
    cout<<"Sorting the processes according to their arrival time";
    
    wt[0] = 0; //Since the first process exceuted will not wait
    ct[0]=bt[0];
    
    //Assigning priorities
    for(i=1;i<n;i++)
    
	
	//sort according to priority
	int temp,i,j;
for(int k = 0;k<3;k++)
{
	{
    	wt[k+1]=ct[k]-bt[k+1];
    	pr[k+1]= 1+ wt[k+1]/(wt[k+1]+bt[k+1]);
	}
	pr[0]=0;
   for (i=0;i<(n-1);i++)
  	{
      for (j=0;j<n-i-1;j++)
		{
      	if(pr[j] < pr[j+1])    //sorting according to priority
		  {
		   	temp=pr[j];
		    pr[j]=pr[j+1];
		    pr[j+1]=temp;
		    
  		    temp=at[j];        //arrival time sorting
	     	at[j]=at[j+1];
		    at[j+1]=temp;
		
		    temp = bt[j];      //burst time sorting
		    bt[j]=bt[j+1];
		    bt[j+1]=temp;
		 
		    temp=proc[j];       // processes sorting
		    proc[j]=proc[j+1];
		    proc[j+1]=temp;  
		    }	
		}
	}
}

for(i=0;i<n;i++)
{
	wt[i]= tat[i]-bt[i];
	tat[i]=ct[i]-at[i];
}

//calculating tat and wt
for(i=0;i<n;i++)
{
	total_wt += wt[i];
	total_tat += tat[i];
}

int avg_tat, avg_wt;
avg_tat = total_tat/(n-1);
avg_wt = total_wt/(n-1);

cout<<endl<<"Process \t\t\t Arrival Time \t\t\t Burst Time \t\t\t Waiting Time \t\t\t Turn Around Time ";
for(i=0;i<n;i++)
{
cout<<endl<<proc[i]<<" \t\t\t "<<at[i]<<" \t\t\t "<<bt[i]<<" \t\t\t "<<wt[i]<<" \t\t\t "<<tat[i]<<endl;
}

  cout<<"Average Waiting time is -> "<<avg_tat<<endl;
  cout<<"Average Turn Around time is -> ",avg_wt;
}

